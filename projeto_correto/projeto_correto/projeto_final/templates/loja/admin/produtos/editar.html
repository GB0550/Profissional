{% extends "base.html" %}
{% block content %}

<h2>Editar Produto</h2>

<form method="post" enctype="multipart/form-data">
    {% csrf_token %}

    <!-- Nome -->
    <div>
        <label>Nome</label>
        <input type="text" name="nome" value="{{ produto.nome }}" required>
    </div>

    <!-- Preço -->
    <div>
        <label>Preço</label>
        <input type="number" step="0.01" name="preco" value="{{ produto.preco }}" required>
    </div>

    <!-- Categoria -->
    <div>
        <label>Categoria</label>
        <select name="categoria" required>
            {% for categoria in categorias %}
                <option value="{{ categoria.id }}"
                    {% if categoria.id == produto.categoria.id %}selected{% endif %}>
                    {{ categoria.nome }}
                </option>
            {% endfor %}
        </select>
    </div>

    <!-- Descrição -->
    <div>
        <label>Descrição</label>
        <textarea name="descricao">{{ produto.descricao }}</textarea>
    </div>

    <!-- Especificações -->
    <div>
        <label>Especificações</label>
        <textarea name="especificacoes">{{ produto.especificacoes }}</textarea>
    </div>

    <!-- Imagem -->
    <div>
        <label>Imagem</label>
        {% if produto.imagem %}
            <img src="{{ produto.imagem.url }}" width="100"><br>
        {% endif %}
        <input type="file" name="imagem">
    </div>

    <form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    {{ form.as_p }}

    <div style="display: flex; gap: 15px; margin-top: 2rem;">
        <button type="submit" class="btn btn-success">
            Salvar Produto
        </button>

        <a href="{% url 'painel_admin' %}" class="btn btn-secondary">
            <i class="bi bi-arrow-left"></i> Voltar ao Painel
        </a>
    </div>
</form>


{% endblock %}
